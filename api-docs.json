{"openapi":"3.0.1","info":{"title":"Praveen API","description":"Praveen API Documentation","contact":{"name":"Praveen","url":"https://www.linkedin.com/in/praveenkumarkotipalli/","email":"2200032132cseh@gmail.com"},"version":"1.0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"tags":[{"name":"Album Controller","description":"Controller for Album management"},{"name":"Test","description":"Test API"},{"name":"Auth Controller","description":"Controller for Account management"}],"paths":{"/auth/users/{user_id}/update-authorities":{"put":{"tags":["Auth Controller"],"summary":"Update user authorities","description":"Update the authorities of a user","operationId":"updateAuthorities","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthoritiesDTO"}}},"required":true},"responses":{"401":{"description":"Token missing or invalid","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AccountViewDTO"}}}},"403":{"description":"Token error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AccountViewDTO"}}}},"200":{"description":"User authorities updated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AccountViewDTO"}}}}},"security":[{"praveen-api":[]}]}},"/auth/profile/update-password":{"put":{"tags":["Auth Controller"],"summary":"update profile","operationId":"update_password","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PasswordDTO"}}},"required":true},"responses":{"401":{"description":"Token missing or invalid","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AccountViewDTO"}}}},"403":{"description":"Token error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AccountViewDTO"}}}},"200":{"description":"user profile update","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AccountViewDTO"}}}}},"security":[{"praveen-api":[]}]}},"/api/v1/albums/{album_id}/update-album":{"put":{"tags":["Album Controller"],"summary":"Update album","description":"Update album","operationId":"update_album","parameters":[{"name":"albumDTO","in":"query","required":true,"schema":{"$ref":"#/components/schemas/AlbumDTO"}},{"name":"album_id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object"}}}}},"security":[{"praveen-api":[]}]}},"/api/v1/albums/{album_id}/photos/{photo_id}/update-photo":{"put":{"tags":["Album Controller"],"summary":"Update photo","description":"Update photo to album","operationId":"update_photo","parameters":[{"name":"album_id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"photo_id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/PhotoDTO"}}}},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}},"security":[{"praveen-api":[]}]}},"/auth/users/add":{"post":{"tags":["Auth Controller"],"summary":"Add a new user","description":"Add a new user to the system","operationId":"addUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AccountDTO"}}},"required":true},"responses":{"201":{"description":"User added successfully","content":{"application/json":{"schema":{"type":"string"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"type":"string"}}}}}}},"/auth/token":{"post":{"tags":["Auth Controller"],"operationId":"token","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserLoginDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TokenDTO"}}}}}}},"/api/v1/albums/{album_id}/upload-photos":{"post":{"tags":["Album Controller"],"summary":"Upload photo","description":"Upload photo to album","operationId":"photos","parameters":[{"name":"album_id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"multipart/form-data":{"schema":{"required":["files"],"type":"object","properties":{"photoDTO":{"$ref":"#/components/schemas/PhotoDTO"},"files":{"type":"array","items":{"type":"string","format":"binary"}}}}}}},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"type":"object","additionalProperties":{"type":"array","items":{"type":"string"}}}}}}}},"security":[{"praveen-api":[]}]}},"/api/v1/albums/add":{"post":{"tags":["Album Controller"],"summary":"Add a new album","description":"Add a new album to the system","operationId":"addAlbum","parameters":[{"name":"albumDTO","in":"query","required":true,"schema":{"$ref":"#/components/schemas/AlbumDTO"}}],"responses":{"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AccountViewDTO"}}}},"201":{"description":"Album added successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AccountViewDTO"}}}}},"security":[{"praveen-api":[]}]}},"/test":{"get":{"tags":["Test"],"operationId":"test","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}},"security":[{"praveen-api":[]}]}},"/auth/users":{"get":{"tags":["Auth Controller"],"summary":"List users","description":"list users","operationId":"Users","responses":{"401":{"description":"Token missing or invalid","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AccountViewDTO"}}}}},"403":{"description":"Token error","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AccountViewDTO"}}}}},"200":{"description":"List users","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AccountViewDTO"}}}}}},"security":[{"praveen-api":[]}]}},"/auth/profile":{"get":{"tags":["Auth Controller"],"summary":"view profile","operationId":"Profile","responses":{"401":{"description":"Token missing or invalid","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProfileDTO"}}}},"403":{"description":"Token error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProfileDTO"}}}},"200":{"description":"user profile","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProfileDTO"}}}}},"security":[{"praveen-api":[]}]}},"/api/v1/albums/{album_id}":{"get":{"tags":["Album Controller"],"summary":"List of albums","description":"Add a new album to the system","operationId":"album_by_id","parameters":[{"name":"album_id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"201":{"description":"List of albums","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AlbumViewDTO"}}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AlbumViewDTO"}}}}}},"security":[{"praveen-api":[]}]}},"/api/v1/albums/{album_id}/photos/{photo_id}/download-thumbnail":{"get":{"tags":["Album Controller"],"operationId":"downloadThumbnail","parameters":[{"name":"album_id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"photo_id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}},"security":[{"praveen-api":[]}]}},"/api/v1/albums/{album_id}/photos/{photo_id}/download-photo":{"get":{"tags":["Album Controller"],"operationId":"downloadPhoto","parameters":[{"name":"album_id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"photo_id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}},"security":[{"praveen-api":[]}]}},"/api/v1/albums/admin":{"get":{"tags":["Album Controller"],"summary":"List of albums by admin","description":"List of albums by admin","operationId":"albums_admin","responses":{"400":{"description":"Bad Request","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AlbumViewDTO"}}}}},"201":{"description":"List of albums by admin","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AlbumViewDTO"}}}}}},"security":[{"praveen-api":[]}]}},"/api/v1/albums/":{"get":{"tags":["Album Controller"],"summary":"List of albums","description":"Add a new album to the system","operationId":"albums","responses":{"201":{"description":"List of albums","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AlbumViewDTO"}}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AlbumViewDTO"}}}}}},"security":[{"praveen-api":[]}]}},"/":{"get":{"tags":["account-controller"],"operationId":"demo","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/auth/profile/delete":{"delete":{"tags":["Auth Controller"],"summary":"delete user authorities","description":"Update the authorities of a user","operationId":"delete_profile","responses":{"401":{"description":"Token missing or invalid","content":{"*/*":{"schema":{"type":"string"}}}},"403":{"description":"Token error","content":{"*/*":{"schema":{"type":"string"}}}},"200":{"description":"User delete","content":{"*/*":{"schema":{"type":"string"}}}}},"security":[{"praveen-api":[]}]}},"/api/v1/albums/{album_id}/photos/{photo_id}/delete-photo":{"delete":{"tags":["Album Controller"],"summary":"Delete photo","description":"Delete photo","operationId":"delete_photo","parameters":[{"name":"album_id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"photo_id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}},"security":[{"praveen-api":[]}]}},"/api/v1/albums/{album_id}/delete-album":{"delete":{"tags":["Album Controller"],"summary":"Delete album","description":"Delete album","operationId":"delete_album","parameters":[{"name":"album_id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}},"security":[{"praveen-api":[]}]}}},"components":{"schemas":{"AuthoritiesDTO":{"required":["authorities"],"type":"object","properties":{"authorities":{"type":"string","description":"Authorities of the user","example":"USER"}}},"AccountViewDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"email":{"type":"string"},"authorities":{"type":"string"}}},"PasswordDTO":{"required":["password"],"type":"object","properties":{"password":{"maxLength":20,"minLength":6,"type":"string","description":"Password of the user","example":"password"}}},"AlbumDTO":{"required":["description","name"],"type":"object","properties":{"name":{"type":"string","description":"Name of the album","example":"Album 1"},"description":{"type":"string","description":"Description of the album","example":"This is a description"}}},"PhotoDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"description":{"type":"string"},"fileName":{"type":"string"},"download_link":{"type":"string"}}},"AccountDTO":{"required":["email","password"],"type":"object","properties":{"email":{"type":"string","description":"Email of the user","example":"praveen@gmail.com"},"password":{"maxLength":20,"minLength":6,"type":"string","description":"Password of the user","example":"password"}}},"UserLoginDTO":{"required":["email","password"],"type":"object","properties":{"email":{"type":"string","description":"Email of the user","example":"praveen@gmail.com"},"password":{"maxLength":20,"minLength":6,"type":"string","description":"Password of the user","example":"password"}}},"TokenDTO":{"type":"object","properties":{"token":{"type":"string"}}},"ProfileDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"email":{"type":"string"},"authorities":{"type":"string"}}},"AlbumViewDTO":{"required":["description","name"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string","description":"Name of the album","example":"Album 1"},"description":{"type":"string","description":"Description of the album","example":"This is a description"},"account_mail":{"type":"string"},"photos":{"type":"array","items":{"type":"object"}}}}},"securitySchemes":{"praveen-api":{"type":"http","in":"header","scheme":"bearer"}}}}